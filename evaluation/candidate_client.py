"""
Returns an answer generated by our model for a given question
"""
import requests


def get_candidate_answer(base_url: str, question: str, document_id: int) -> str:
    """
    Gets an answer (candidate) from our own model for a given question

    :param base_url: The API that is used to prompt our model
    :type base_url: str
    :param question: The question that the model will be asked
    :type question: str
    :param document_id: The ID of the document that the question is from
    :type document_id: str
    :return: The answer outputted by our model
    :rtype: str
    """
    url = f"{base_url.rstrip('/')}/api/query"
    payload = {"query": question, "documentId": document_id, "chatHistory": []}
    resp = requests.post(url, json=payload, timeout=600)
    resp.raise_for_status()
    answer = resp.text.strip()
    return answer
